# Sucoidownload 增强版 - 未来三日工作计划 (2025-03-28 至 2025-03-30)

## 总体目标
完成 YouTube Data API 的基础集成，实现根据关键词搜索视频，并将搜索结果初步对接至下载流程。同时，开始 GUI 的相应调整。

## 责任人说明
*   **后端开发:** 侧重 API 调用、数据处理、下载逻辑。
*   **前端开发:** 侧重 Tkinter GUI 界面修改与交互。
*   **全栈:** 可同时负责前后端任务。
*   **开发团队:** 共同负责测试和代码评审。

---

### 第一天 (2025-03-28)

| 优先级 | 任务描述                                                                                                  | 负责人       | 产出物/验证标准                                                                                   | 状态     |
| :----- | :------------------------------------------------------------------------------------------------------ | :----------- | :------------------------------------------------------------------------------------------------ | :------- |
| **主要** | **研究 YouTube Data API v3 文档** (`search.list`, `videos.list`)：了解认证、参数、响应、配额。                | 后端开发     | 理解 API 使用方法，明确所需参数和预期响应结构。                                                  | **完成** |
| **主要** | **设置 Google Cloud 项目 & 获取 API Key**：启用 YouTube Data API v3。                                   | 后端/负责人  | 获得有效的 API Key，确保 API 服务已启用。                                                       | **完成** |
| **主要** | **基础 API 调用框架** (`sucoidownload.py`)：引入 `google-api-python-client` 库，实现 `search_videos` 获取详细信息。 | 后端开发     | 能够使用 API Key，通过关键词成功调用 `search.list` 和 `videos.list` 并返回结构化数据。               | **完成** |
| **主要** | **配置管理实现**: 创建 `config_manager.py`, `config.example.json`, 实现配置加载/保存，提供设置界面。          | 全栈         | API Key 和下载路径可通过配置文件管理，GUI 提供设置入口。                                         | **完成** |
| **主要** | **前端重构与布局**: 使用 `ttk.Treeview` 替换文本框，实现搜索结果和下载列表表格，调整按钮布局。                | 前端/全栈    | 界面包含两个表格，按钮布局符合最新要求。                                                       | **完成** |
| **主要** | **功能集成**: 实现搜索结果填充表格，将选中项添加到下载列表，修改下载逻辑以适配表格。                           | 全栈         | 搜索->添加->下载流程基本可用（基于表格）。                                                     | **完成** |
| **主要** | **代码重构**: 创建 `youtube.py` 模块，将 YouTube 搜索和下载逻辑分离，实现解耦。                      | 全栈         | `youtube.py` 包含平台相关逻辑，主程序通过接口调用和回调交互。                               | **完成** |

**本日目标:** API 调用通路打通，基础搜索功能（含详情获取）完成，配置管理及设置界面实现，前端表格化重构完成，功能初步集成。 **(已超额完成)**

---

### 第二天 (2025-03-29)

| 优先级 | 任务描述                                                                                                | 负责人     | 产出物/验证标准                                                          | 状态     |
| **主要** | **修复主界面布局**: 解决顶部/底部控件与 Notebook 重叠的问题，调整布局结构。                        | 前端/全栈  | 主界面布局清晰，无控件重叠。                                    | **完成** |
| :----- | :------------------------------------------------------------------------------------------------------ | :--------- | :----------------------------------------------------------------------- | :------- |
| **主要** | **实现筛选功能**: 在 GUI 添加时长和排序下拉框，并实现后端 `search_videos` 方法根据选项筛选结果。                | 后端/全栈  | 用户可通过下拉框筛选搜索结果。                                           | **完成 (待测试-API Key)** |
| **主要** | **下载列表交互**: 实现下载列表的选择框功能，允许选择/取消选择下载项；添加“移除选中”按钮。                     | 前端/全栈  | 用户可以勾选/取消勾选下载项，并移除选中的任务。                          | **完成** |
| 次要   | **搜索结果分页研究**: 研究 `search.list` 的 `pageToken` 参数，为后续实现分页做准备。                       | 后端开发   | 了解分页 API 的使用方法。                                                | 未开始   |
| 次要   | **美化表格显示**: 调整列宽，考虑添加斑马纹等视觉效果 (可选)。                                               | 前端/全栈  | 表格显示更美观。                                                         | 未开始   |

**本日目标:** 实现搜索结果筛选功能，完善下载列表的基本交互（选择、移除），为后续优化打基础。

---

### 第三天 (2025-03-30)

| 优先级 | 任务描述                                                                                                  | 负责人     | 产出物/验证标准                                                                | 状态     |
| :----- | :-------------------------------------------------------------------------------------------------------- | :--------- | :----------------------------------------------------------------------------- | :------- |
| **主要** | **实现下载进度条**: 使用 `ttk.Progressbar` 替代或补充文本状态，更直观显示总体或单个下载进度。                  | 前端/全栈  | GUI 中有进度条显示下载进展。                                                 | 未开始   |
| **主要** | **实现取消下载功能**: 添加“停止”按钮，能够在下载过程中安全地中断yt-dlp进程或线程。                          | 后端/全栈  | 用户可以点击按钮停止当前的下载任务。                                           | 未开始   |
| 次要   | **并行下载研究/初试**: 研究 `threading` 或 `concurrent.futures` 实现并行下载的可行性，尝试简单实现。         | 后端开发   | 了解并行下载实现方式，可能有初步的并行下载代码框架。                             | 未开始   |
| 次要   | **代码清理与优化**: 整理代码结构，添加必要的注释，优化现有逻辑。                                             | 开发团队   | 代码更清晰、可维护。                                                           | 未开始   |

**本日目标:** 提升用户体验（进度条、取消），并为性能优化（并行下载）做准备。

---